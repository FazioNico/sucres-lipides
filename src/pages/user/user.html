<!--
@Author: Nicolas Fazio <webmaster-fazio>
@Date:   25-07-2016
@Email:  contact@nicolasfazio.ch
@Last modified by:   webmaster-fazio
@Last modified time: 03-02-2017
-->

<!--
  Generated template for the User page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <header-content title="Mon Profil" [btnUserAuth]="null"></header-content>
</ion-header>


<ion-content padding>

    <div *ngIf="isAuth === false"  class="table">
      <div class="table-cell">

        <h1 ion-text color="primary" text-center>Se connecter</h1>
        <p ion-text color="primary" text-center>Connecte toi à ton profil pour pouvoir utiliser toutes les fonctionnalité de l'application</p>
        <br>

        <form [formGroup]="loginForm">
          <ion-item>
            <ion-label floating>Email</ion-label>
            <ion-input type="email" ngControl="email" formControlName="email" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input type="password" ngControl="password" formControlName="password" required></ion-input>
          </ion-item>

          <div padding>
            <button ion-button block (click)="loginUser()">Login</button>
            <button ion-button block (click)="goToSignup(loginForm.value)">Create New Account</button>
          </div>
        </form>

      </div>
    </div>

    <div *ngIf="isAuth === true" padding class="table">
        <div class="table-cell" text-center>
          <h1 ion-text color="primary">
            Salut {{email}} !
          </h1>
          <p ion-text color="secondarytext">
            Maintenant que tu es connecté, toutes les fonctionnalité de l'application Sucres &amp; Lipides sont activées.
          </p>
          <br>
          <button ion-button outline color="danger" (click)="gologout()">Se déconnecter</button>
        </div>
    </div>
</ion-content>
